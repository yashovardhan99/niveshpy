{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"NiveshPy","text":"<p>NiveshPy is a financial CLI designed for managing mutual funds and investment portfolios. It provides functionalities to fetch fund prices, manage portfolios, and calculate performance.</p> <p>For more information, check out our Getting Started page.</p> <p>NiveshPy is targeted towards Indian  markets, but the API is built to support any financial security.</p>"},{"location":"#quick-start","title":"Quick Start","text":"<p>To get started, install NiveshPy from PyPi:</p> <pre><code>pip install niveshpy\n</code></pre> <p>After installing, you can simply start using NiveshPy straight from your terminal:</p> <pre><code>niveshpy &lt;command&gt;\n</code></pre> <p>Learn more by checking our CLI page</p>"},{"location":"#work-in-progress","title":"Work in progress","text":"<p>This project is a work in progress. The public API is still in development and unstable.</p>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the MIT License. See the LICENSE file for more details.</p>"},{"location":"LICENSE/","title":"LICENSE","text":"<p>MIT License</p> <p>Copyright (c) 2025 Yashovardhan Dhanania</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>New holdings report.</li> <li>New asset allocation report.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Text queries being grouped incorrectly.</li> </ul>"},{"location":"changelog/#100a2-2026-01-08","title":"1.0.0a2 - 2026-01-08","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Unit testing for core components.</li> <li>Python 3.14 support.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Migrate to using sqlmodel/sqlalchemy with sqlite database.</li> <li>Standardize exceptions into a proper hierarchy.</li> <li>Simplified synchronization of prices.</li> <li>Performance improvements for top command (<code>niveshpy -h</code>)</li> <li>Updated documentation to reflect recent changes.</li> <li>Updated dependencies.</li> <li>Simplified deletion workflow.</li> </ul>"},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>Bulk updates deleting all transactions irrespective of accounts.</li> <li>Concurrency issues in bulk updates.</li> <li>Unified error handling with clear messages.</li> <li>Range operator not supporting one-sided open ranges in amount queries.</li> <li>Security losing existing properties on update.</li> </ul>"},{"location":"changelog/#100a1-2025-11-09","title":"1.0.0a1 - 2025-11-09","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>New CLI interface for easier use</li> <li>New Github workflow for automated testing and coverage.</li> <li>New classifiers to properly describe the project</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Redesigned entire app from the group-up to focus on CLI instead.</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Problem with publishing assets to Github Releases</li> <li>Documentation URL fixes</li> </ul>"},{"location":"changelog/#010dev0-2025-05-25","title":"0.1.0.dev0 - 2025-05-25","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>Basic project structure for Python package.</li> <li>Ability to fetch and store latest and historical quotes.</li> <li>Pre-built plugin: amfi (Mutual Fund)</li> <li>Documentation</li> </ul> <p>To view the latest version of this file, go to CHANGELOG.md</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#installation","title":"Installation","text":""},{"location":"getting-started/#with-pip","title":"With pip","text":"<p>To get started, install NiveshPy from PyPi:</p> <pre><code>pip install niveshpy\n</code></pre>"},{"location":"getting-started/#with-git","title":"With git","text":"<p>You can also download the app from GitHub and build it on your own.</p> <p>First, clone the repository:</p> <pre><code>git clone https://github.com/yashovardhan99/niveshpy.git\n</code></pre> <p>Next, install the package and all it's dependencies with:</p> <pre><code>pip install -e niveshpy\n</code></pre>"},{"location":"getting-started/#quick-start","title":"Quick Start","text":"<p>After installing, you can simply start using NiveshPy:</p> <pre><code>niveshpy &lt;command&gt;\n</code></pre>"},{"location":"getting-started/#mutual-funds","title":"Mutual Funds","text":"<p>Indian mutual fund investors can easily import their CAS statements into NiveshPy.</p> <p>To import your mutual funds, follow the steps:</p> <ol> <li>Go to CAMS Online</li> <li>Download CAS - CAMS + KFinTech with the following settings:<ol> <li>Statement Type - Detailed (Includes transaction listing)</li> <li>Period - Specific Period</li> <li>Select an appropriate From date based on when you started investing in mutual funds.</li> <li>Leave To date as today's date.</li> <li>Folio Lising - Transacted folios and folios with balance</li> <li>Enter your email ID, PAN and a suitable password.</li> <li>Take a note of this password - you will need this later.</li> <li>Submit the form</li> </ol> </li> <li>You will soon receive an email with your CAS attached.</li> <li>Download the PDF and save it on your PC. Take note of where you saved it.</li> <li>Run the following command:</li> </ol> <pre><code>niveshpy parse cas &lt;path_to_cas&gt;\n</code></pre> <p>For instance, if you saved the file at <code>~/CAS.pdf</code>, then run</p> <pre><code>niveshpy parse cas ~/CAS.pdf\n</code></pre> <p>You will be prompted for your password, enter the password and follow the prompts to complete importing your mutual fund investments.</p>"},{"location":"getting-started/#whats-next","title":"What's next?","text":"<p>NiveshPy comes with a bundle of useful CLI commands to help you analyze your investments. Go to CLI commands</p>"},{"location":"advanced/","title":"Advanced APIs","text":"<p>Here are some advanced APIs that allow you to customize NiveshPy to better suit your needs.</p>"},{"location":"advanced/parsers/","title":"Parsers","text":"<p>A parser is used to parse financial documents such as account statements and transaction histories.</p>"},{"location":"advanced/parsers/#bundled-parsers","title":"Bundled Parsers","text":"<p>NiveshPy comes bundled with a few useful parsers.</p> Parser Name Description Command CAS Parser Parser for CAMS and Kfintech Consolidated Account Statements (CAS). <code>niveshpy parse cas ...</code>"},{"location":"advanced/parsers/#custom-parsers","title":"Custom Parsers","text":"<p>You can create your own custom parser for NiveshPy with Python.</p> <p>In your <code>pyproject.toml</code> file, include an entry point with the group <code>niveshpy.parsers</code>.</p> <pre><code>[project.entry-points.\"niveshpy.parsers\"] # (1)\nmy_parser = \"my_plugin:MyPluginFactory\" # (2)\n</code></pre> <ol> <li>This needs to be added as-is to ensure NiveshPy can find your parser.</li> <li>Replace <code>my_parser</code> with a unique key, and replace the string with a reference to your <code>PluginFactory</code> class.</li> </ol> <p>Create a class <code>my_plugin.MyPluginFactory</code> that follows the protocol <code>ParserFactory</code>. This factory will be responsible for actually creating the parser object with the input file and password.</p> <p>The <code>create_parser</code> method must return an instance of a class that follows the protocol <code>Parser</code>.</p> <p>The <code>get_parser_info</code> method must return an object of type <code>ParserInfo</code></p>"},{"location":"advanced/parsers/#usage","title":"Usage","text":"<p>To use a custom parser, install it in the same virtual environment as NiveshPy and run the command:</p> <pre><code>niveshpy parse my_parser\n</code></pre> <p>NiveshPy will use the name defined in your <code>pyproject.toml</code> as a unique key (in this example, <code>my_parser</code>).</p> Warning <p>If another installed parser has the same key, your parser may be overwritten. If this happens, a warning will be logged. If you find yourself in this situation, you can change your parser key or advise the user to uninstall the other parser.</p>"},{"location":"advanced/parsers/#shell-completion","title":"Shell Completion","text":"<p>NiveshPy CLI supports shell completion. If the user types the partial command <code>niveshpy parse ...</code> and presses Tab, the CLI will look for parsers with keys starting with the partial key entered by the user (or all parsers if no key is provided). Depending on the terminal, the CLI will show a list of all such keys along with the name defined in your <code>ParserInfo.name</code></p> Tip <p>For this reason, it is recommended that your parser factory return a <code>ParserInfo</code> object quickly. Do not write any initialization code in your parser factory. Any initialization code can be placed in the <code>create_parser</code> method as that will only be called after the user has run the parse command.</p>"},{"location":"advanced/parsers/#example","title":"Example","text":"Example custom parser <pre><code>class SampleParser:\n    def __init__(self, file_path: str):\n        with open(file_path) as f:\n            self.data = json.loads(f.read())\n    def get_date_range(self) -&gt; tuple[datetime.date, datetime.date]:\n        return self.data.start_date, self.data.end_date  # (1)\n    def get_accounts(self) -&gt; list[AccountCreate]:\n        return [\n            AccountCreate(name=acc.name, institution=acc.org, properties={\"source\": \"sample\"})  # (2)\n            for acc in self.data.accounts\n        ]\n    def get_securities(self) -&gt; Iterable[SecurityCreate]:\n        for acc in self.data.accounts:\n            for sec in acc.securities:\n                yield SecurityCreate(\n                    key=sec.key,\n                    name=sec.name,\n                    type=SecurityType.OTHER,\n                    category=SecurityCategory.OTHER,\n                    properties={\"source\": \"sample\", \"isin\": sec.isin},  # (3)\n                )\n    def get_transactions(\n        self, accounts: Iterable[AccountPublic]\n    ) -&gt; Iterable[TransactionCreate]:\n        accounts_map = {(acc.name, acc.institution): acc.id for acc in accounts}\n        for acc in self.data.accounts:\n            account_id = accounts_map.get((acc.name, acc.org))\n            for sec in acc.securities:\n                for transaction in sec.transactions:\n                    txn_type = TransactionType(transaction.type.lower())\n                    txn = TransactionCreate(\n                        transaction_date=transaction.date,\n                        type=txn_type,\n                        description=transaction.description,\n                        amount=transaction.amount,\n                        units=transaction.units,\n                        security_key=sec.key,\n                        account_id=account_id,\n                        properties={\"source\": \"sample\"},\n                    )\n                    yield txn\nclass SampleParserFactory:\n    @classmethod\n    def get_parser_info(cls) -&gt; ParserInfo:\n        return ParserInfo(\n            name=\"Sample Parser\",\n            description=\"Sample parser.\",\n            file_extensions=[\".json\"],\n            password_required=False,  # (4)\n        )\n    @classmethod\n    def create_parser(\n        cls, file_path: Path, password: str | None = None\n    ) -&gt; SampleParser:\n        file_path = file_path.as_posix()\n        return SampleParser(file_path)\n</code></pre> <ol> <li>Transactions for all provided security-account combinations in the given date-range will be overwritten. This is to ensure transactions remain accurate and current. Keep this in mind when returning these dates.</li> <li>It's a good practice to include a <code>source</code> key in the metadata dictionary for any object you are returning.</li> <li>You can also include other key-value pairs in the metadata dictionary that may be relevant.</li> <li>If password_required is True, the user will be prompted for a password.</li> </ol> <p>The above example is for illustrative purposes only. The code above may need to be modified to work.</p>"},{"location":"advanced/parsers/#api-reference","title":"API Reference","text":""},{"location":"advanced/parsers/#niveshpy.models.parser.ParserInfo","title":"ParserInfo  <code>dataclass</code>","text":"<pre><code>ParserInfo(name: str, description: str, file_extensions: list[str], password_required: bool = False)\n</code></pre> <p>Model for parser metadata.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserInfo.description","title":"description  <code>instance-attribute</code>","text":"<pre><code>description: str\n</code></pre> <p>Brief description of what the parser does.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserInfo.file_extensions","title":"file_extensions  <code>instance-attribute</code>","text":"<pre><code>file_extensions: list[str]\n</code></pre> <p>List of supported file extensions for the parser (e.g. ['.csv', '.json']).</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserInfo.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>Human-readable name of the parser.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserInfo.password_required","title":"password_required  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>password_required: bool = False\n</code></pre> <p>Indicates if the parser requires a password to parse files.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.Parser","title":"Parser","text":"<p>               Bases: <code>Protocol</code></p> <p>Protocol for parser classes.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.Parser.get_accounts","title":"get_accounts","text":"<pre><code>get_accounts() -&gt; Iterable[AccountCreate]\n</code></pre> <p>Get the list of accounts from the parser.</p> <p>Returns:</p> Type Description <code>Iterable[AccountCreate]</code> <p>An iterable of AccountCreate objects representing the accounts found in the data.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>def get_accounts(self) -&gt; Iterable[AccountCreate]:\n    \"\"\"Get the list of accounts from the parser.\n\n    Returns:\n        An iterable of AccountCreate objects representing the accounts found in the data.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/parsers/#niveshpy.models.parser.Parser.get_date_range","title":"get_date_range","text":"<pre><code>get_date_range() -&gt; tuple[date, date]\n</code></pre> <p>Get the date range of the parsed data.</p> <p>Returns:</p> Type Description <code>tuple[date, date]</code> <p>A tuple containing the start and end dates of the data.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>def get_date_range(self) -&gt; tuple[datetime.date, datetime.date]:\n    \"\"\"Get the date range of the parsed data.\n\n    Returns:\n        A tuple containing the start and end dates of the data.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/parsers/#niveshpy.models.parser.Parser.get_securities","title":"get_securities","text":"<pre><code>get_securities() -&gt; Iterable[SecurityCreate]\n</code></pre> <p>Get the list of securities from the parser.</p> <p>Returns:</p> Type Description <code>Iterable[SecurityCreate]</code> <p>An iterable of SecurityCreate objects representing the securities found in the data.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>def get_securities(self) -&gt; Iterable[SecurityCreate]:\n    \"\"\"Get the list of securities from the parser.\n\n    Returns:\n        An iterable of SecurityCreate objects representing the securities found in the data.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/parsers/#niveshpy.models.parser.Parser.get_transactions","title":"get_transactions","text":"<pre><code>get_transactions(accounts: Iterable[AccountPublic]) -&gt; Iterable[TransactionCreate]\n</code></pre> <p>Get the list of transactions from the parser.</p> <p>The returned transactions should reference the provided accounts and the securities created earlier.</p> <p>Ensure all valid transactions in the (earlier provided) date-range are included. The service will overwrite all transactions for the referenced account-security pairs.</p> <p>Parameters:</p> Name Type Description Default <code>accounts</code> <code>Iterable[AccountPublic]</code> <p>An iterable of AccountPublic objects representing the accounts to reference.</p> required <p>Returns:</p> Type Description <code>Iterable[TransactionCreate]</code> <p>An iterable of TransactionCreate objects representing the transactions found in the data.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>def get_transactions(\n    self, accounts: Iterable[AccountPublic]\n) -&gt; Iterable[TransactionCreate]:\n    \"\"\"Get the list of transactions from the parser.\n\n    The returned transactions should reference the provided accounts and the securities created earlier.\n\n    Ensure all valid transactions in the (earlier provided) date-range are included.\n    The service will overwrite all transactions for the referenced account-security pairs.\n\n    Args:\n        accounts: An iterable of AccountPublic objects representing the accounts to reference.\n\n    Returns:\n        An iterable of TransactionCreate objects representing the transactions found in the data.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserFactory","title":"ParserFactory","text":"<p>               Bases: <code>Protocol</code></p> <p>Protocol for parser factory classes.</p>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserFactory.create_parser","title":"create_parser  <code>classmethod</code>","text":"<pre><code>create_parser(file_path: Path, password: str | None = None, **kwargs) -&gt; Parser\n</code></pre> <p>Create a parser instance for the given file.</p> <p>Returns:</p> Type Description <code>Parser</code> <p>An instance of a Parser that can handle the given file.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>@classmethod\ndef create_parser(\n    self, file_path: Path, password: str | None = None, **kwargs\n) -&gt; Parser:\n    \"\"\"Create a parser instance for the given file.\n\n    Returns:\n        An instance of a Parser that can handle the given file.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/parsers/#niveshpy.models.parser.ParserFactory.get_parser_info","title":"get_parser_info  <code>classmethod</code>","text":"<pre><code>get_parser_info() -&gt; ParserInfo\n</code></pre> <p>Get metadata about the parser.</p> <p>Returns:</p> Type Description <code>ParserInfo</code> <p>A ParserInfo object containing metadata about the parser.</p> Source code in <code>niveshpy/models/parser.py</code> <pre><code>@classmethod\ndef get_parser_info(cls) -&gt; ParserInfo:\n    \"\"\"Get metadata about the parser.\n\n    Returns:\n        A ParserInfo object containing metadata about the parser.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/providers/","title":"Price Providers","text":"<p>A price provider is used to provide historical or current prices for securities.</p>"},{"location":"advanced/providers/#bundled-providers","title":"Bundled Providers","text":"<p>NiveshPy comes bundled with a few useful providers.</p> Provider Name Description Command AMFI Provide mutual fund prices from AMFI. <code>niveshpy prices sync --provider amfi</code>"},{"location":"advanced/providers/#custom-providers","title":"Custom Providers","text":"<p>You can create your own custom price provider for NiveshPy with Python.</p> <p>In your <code>pyproject.toml</code> file, include an entry point with the group <code>niveshpy.providers.price</code>.</p> <pre><code>[project.entry-points.\"niveshpy.providers.price\"] # (1)\nmy_provider = \"my_plugin:MyPluginFactory\" # (2)\n</code></pre> <ol> <li>This needs to be added as-is to ensure NiveshPy can find your provider.</li> <li>Replace <code>my_provider</code> with a unique key, and replace the string with a reference to your <code>PluginFactory</code> class.</li> </ol> <p>Create a class <code>my_plugin.MyPluginFactory</code> that follows the protocol <code>ProviderFactory</code>. This factory will be responsible for actually creating the provider object with the input file and password.</p> <p>The <code>create_provider</code> method must return an instance of a class that follows the protocol <code>Provider</code>.</p> <p>The <code>get_provider_info</code> method must return an object of type <code>ProviderInfo</code></p>"},{"location":"advanced/providers/#usage","title":"Usage","text":"<p>To use a custom price provider, install it in the same virtual environment as NiveshPy and run the command:</p> <pre><code>niveshpy prices sync --provider my_provider\n</code></pre> <p>NiveshPy will use the name defined in your <code>pyproject.toml</code> as a unique key (in this example, <code>my_provider</code>).</p> Warning <p>If another installed price provider has the same key, your provider may be overwritten. If this happens, a warning will be logged. If you find yourself in this situation, you can change your provider key or advise the user to uninstall the other provider.</p>"},{"location":"advanced/providers/#shell-completion","title":"Shell Completion","text":"<p>NiveshPy CLI supports shell completion. If the user types the partial command <code>niveshpy prices sync --provider ...</code> and presses Tab, the CLI will look for providers with keys starting with the partial key entered by the user (or all providers if no key is provided). Depending on the terminal, the CLI will show a list of all such keys along with the name defined in your <code>ProviderInfo.name</code></p> Tip <p>For this reason, it is recommended that your provider factory return a <code>ProviderInfo</code> object quickly. Do not write any initialization code in your provider factory. Any initialization code can be placed in the <code>create_provider</code> method as that will only be called after the user has run the relevant command.</p>"},{"location":"advanced/providers/#api-reference","title":"API Reference","text":""},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo","title":"ProviderInfo  <code>dataclass</code>","text":"<pre><code>ProviderInfo(name: str, description: str, supports_historical: bool = True, supports_latest: bool = True, max_concurrent_requests: int = 0)\n</code></pre> <p>Model for provider metadata.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo.description","title":"description  <code>instance-attribute</code>","text":"<pre><code>description: str\n</code></pre> <p>Brief description of what the provider does.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo.max_concurrent_requests","title":"max_concurrent_requests  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>max_concurrent_requests: int = field(default=0)\n</code></pre> <p>Maximum number of concurrent requests allowed (0 = no limit).</p> <p>Currently not enforced by the application. It may be used in the future to limit concurrency when fetching data from providers that have rate limits.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>Human-readable name of the provider.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo.supports_historical","title":"supports_historical  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>supports_historical: bool = field(default=True)\n</code></pre> <p>Indicates if the provider can fetch historical price data.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderInfo.supports_latest","title":"supports_latest  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>supports_latest: bool = field(default=True)\n</code></pre> <p>Indicates if the provider can fetch the latest/current price.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.Provider","title":"Provider","text":"<p>               Bases: <code>Protocol</code></p> <p>Protocol for price provider classes.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.Provider.fetch_historical_prices","title":"fetch_historical_prices","text":"<pre><code>fetch_historical_prices(security: Security, start_date: date, end_date: date) -&gt; Iterable[PriceCreate]\n</code></pre> <p>Fetch historical prices for a security.</p> <p>Parameters:</p> Name Type Description Default <code>security</code> <code>Security</code> <p>The security to fetch prices for</p> required <code>start_date</code> <code>date</code> <p>Start date (inclusive)</p> required <code>end_date</code> <code>date</code> <p>End date (inclusive)</p> required <p>Returns:</p> Type Description <code>Iterable[PriceCreate]</code> <p>An iterable of PriceCreate objects.</p> Source code in <code>niveshpy/models/provider.py</code> <pre><code>def fetch_historical_prices(\n    self,\n    security: Security,\n    start_date: datetime.date,\n    end_date: datetime.date,\n) -&gt; Iterable[PriceCreate]:\n    \"\"\"Fetch historical prices for a security.\n\n    Args:\n        security: The security to fetch prices for\n        start_date: Start date (inclusive)\n        end_date: End date (inclusive)\n\n    Returns:\n        An iterable of PriceCreate objects.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/providers/#niveshpy.models.provider.Provider.fetch_latest_price","title":"fetch_latest_price","text":"<pre><code>fetch_latest_price(security: Security) -&gt; PriceCreate\n</code></pre> <p>Fetch the latest price for a security.</p> <p>Parameters:</p> Name Type Description Default <code>security</code> <code>Security</code> <p>The security to fetch price for</p> required <p>Returns:</p> Type Description <code>PriceCreate</code> <p>A PriceCreate object.</p> Source code in <code>niveshpy/models/provider.py</code> <pre><code>def fetch_latest_price(self, security: Security) -&gt; PriceCreate:\n    \"\"\"Fetch the latest price for a security.\n\n    Args:\n        security: The security to fetch price for\n\n    Returns:\n        A PriceCreate object.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/providers/#niveshpy.models.provider.Provider.get_priority","title":"get_priority","text":"<pre><code>get_priority(security: Security) -&gt; int | None\n</code></pre> <p>Get the priority of this provider for the given security.</p> <p>Lower numbers = higher priority. Providers are tried in priority order when multiple providers can handle the same security.</p> <p>Returns:</p> Type Description <code>int | None</code> <p>An integer representing the priority (e.g., 10, 20, 30).</p> <code>int | None</code> <p>Return None if the provider cannot handle the given security.</p> Source code in <code>niveshpy/models/provider.py</code> <pre><code>def get_priority(self, security: Security) -&gt; int | None:\n    \"\"\"Get the priority of this provider for the given security.\n\n    Lower numbers = higher priority. Providers are tried in priority order\n    when multiple providers can handle the same security.\n\n    Returns:\n        An integer representing the priority (e.g., 10, 20, 30).\n        Return None if the provider cannot handle the given security.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderFactory","title":"ProviderFactory","text":"<p>               Bases: <code>Protocol</code></p> <p>Protocol for provider factory classes.</p>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderFactory.create_provider","title":"create_provider  <code>classmethod</code>","text":"<pre><code>create_provider() -&gt; Provider\n</code></pre> <p>Create a provider instance.</p> <p>Returns:</p> Type Description <code>Provider</code> <p>An instance of a Provider.</p> Source code in <code>niveshpy/models/provider.py</code> <pre><code>@classmethod\ndef create_provider(cls) -&gt; Provider:\n    \"\"\"Create a provider instance.\n\n    Returns:\n        An instance of a Provider.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"advanced/providers/#niveshpy.models.provider.ProviderFactory.get_provider_info","title":"get_provider_info  <code>classmethod</code>","text":"<pre><code>get_provider_info() -&gt; ProviderInfo\n</code></pre> <p>Get metadata about the provider.</p> <p>Returns:</p> Type Description <code>ProviderInfo</code> <p>A ProviderInfo object containing metadata about the provider.</p> Source code in <code>niveshpy/models/provider.py</code> <pre><code>@classmethod\ndef get_provider_info(cls) -&gt; ProviderInfo:\n    \"\"\"Get metadata about the provider.\n\n    Returns:\n        A ProviderInfo object containing metadata about the provider.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"cli/","title":"CLI","text":"<p>NiveshPy provides an easy-to-use CLI to manage your investments right from your terminal.</p> <p>Usage:</p> <pre><code>niveshpy [&lt;options&gt;] &lt;command&gt; ...\n</code></pre> <p>The following sub-commands are available:</p> <ul> <li> <p>Accounts</p> </li> <li> <p>Securities</p> </li> <li> <p>Transactions</p> </li> <li> <p>Parse</p> </li> <li> <p>Prices</p> </li> </ul>"},{"location":"cli/#global-options","title":"Global Options","text":"<pre><code>  -v, --version           Show the version and exit.\n  -d, --debug, --verbose  Enable verbose logging.\n  --no-color              Disable colored output.\n  -h, --help              Show this message and exit.\n</code></pre>"},{"location":"cli/#quick-start","title":"Quick Start","text":"<p>To get started quickly, import your mutual fund CAS using:</p> <pre><code>niveshpy parse cas &lt;path-to-file&gt;\n</code></pre> <p>This will automatically import all your folios, funds and transactions into NiveshPy.</p>"},{"location":"cli/accounts/","title":"Accounts","text":"<p>Accounts can refer to both physical and virtual accounts, such as your mutual fund folios, demat accounts etc.</p>"},{"location":"cli/accounts/#niveshpy-accounts","title":"niveshpy accounts","text":"<p>Wrapper group for account-related commands.</p> <p>Usage:</p> <pre><code>niveshpy accounts [options] &lt;command&gt;\n</code></pre> <p>Options:</p> <pre><code>  -h, --help  Show this message and exit.\n</code></pre> <p>Subcommands</p> <ul> <li>add: Add a new account.</li> <li>delete: Delete an account based on a query.</li> <li>list: List all accounts.</li> </ul>"},{"location":"cli/accounts/#niveshpy-accounts-add","title":"niveshpy accounts add","text":"<p>Add a new account.</p> <p>To add accounts interactively, run the command without any arguments. To add a single account non-interactively, provide the account name and institution using <code>niveshpy account add &lt;name&gt; &lt;institution&gt;</code>.</p> <p> and  are used to uniquely identify the account. If an account with the same name and institution already exists, it will not be added again. <p>Usage:</p> <pre><code>niveshpy accounts add [options] [&lt;name&gt;] [&lt;institution&gt;]\n</code></pre> <p>Options:</p> <pre><code>  --no-input  Run without user input, using defaults or skipping prompts.\n  -h, --help  Show this message and exit.\n</code></pre>"},{"location":"cli/accounts/#niveshpy-accounts-delete","title":"niveshpy accounts delete","text":"<p>Delete an account based on a query.</p> <p>If no ID is provided, you will be prompted to select from existing accounts. The query will first attempt to match an account by its unique ID. If no exact match is found, it will search by name and institution. If multiple accounts match the provided query, you will be prompted to select one.</p> <p>Associated transactions and holdings are not deleted but might no longer be visible in some reports.</p> <p>When running in a non-interactive mode, --force must be provided to confirm deletion. Additionally, the  must match exactly one account ID. <p>Usage:</p> <pre><code>niveshpy accounts delete [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of limit to list.  [default: 100]\n  --no-input           Run without user input, using defaults or skipping\n                       prompts.\n  -f, --force          Force the operation without confirmation.\n  -n, --dry-run        Simulate the operation without making any changes.\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/accounts/#niveshpy-accounts-list","title":"niveshpy accounts list","text":"<p>List all accounts.</p> <p>An optional QUERY can be provided to filter accounts by name or institution.</p> <p>Usage:</p> <pre><code>niveshpy accounts list [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of accounts to list.  [default: 30]\n  --offset INTEGER     Number of accounts to skip before starting to list. Use\n                       with --limit for pagination.  [default: 0]\n  --json\n  --csv\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/accounts/#model-reference","title":"Model Reference","text":"<p>Account model for user financial data.</p>"},{"location":"cli/accounts/#niveshpy.models.account.Account","title":"Account","text":"<p>               Bases: <code>AccountBase</code></p> <p>Database model for investment accounts.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int | None</code> <p>Primary key ID of the account. None if not yet stored in DB.</p> <code>name</code> <code>str</code> <p>Name of the account.</p> <code>institution</code> <code>str</code> <p>Financial institution managing the account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the account.</p> <code>created_at</code> <code>datetime</code> <p>Timestamp when the account was created.</p>"},{"location":"cli/accounts/#niveshpy.models.account.AccountBase","title":"AccountBase","text":"<p>               Bases: <code>SQLModel</code></p> <p>Base model for investment accounts.</p> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>Name of the account.</p> <code>institution</code> <code>str</code> <p>Financial institution managing the account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the account. Defaults to an empty dictionary.</p>"},{"location":"cli/accounts/#niveshpy.models.account.AccountBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Ensure subclasses inherit schema extra metadata.</p> Source code in <code>niveshpy/models/account.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"Ensure subclasses inherit schema extra metadata.\"\"\"\n    return super().__init_subclass__(**kwargs)\n</code></pre>"},{"location":"cli/accounts/#niveshpy.models.account.AccountCreate","title":"AccountCreate","text":"<p>               Bases: <code>AccountBase</code></p> <p>Model for creating a new account.</p> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>Name of the account.</p> <code>institution</code> <code>str</code> <p>Financial institution managing the account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the account. Defaults to an empty dictionary.</p>"},{"location":"cli/accounts/#niveshpy.models.account.AccountPublic","title":"AccountPublic","text":"<p>               Bases: <code>AccountBase</code></p> <p>Public model for account data exposure.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>Primary key ID of the account.</p> <code>name</code> <code>str</code> <p>Name of the account.</p> <code>institution</code> <code>str</code> <p>Financial institution managing the account.</p> <code>created_at</code> <code>datetime</code> <p>Timestamp when the account was created.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the account.</p>"},{"location":"cli/parse/","title":"Parse","text":""},{"location":"cli/parse/#niveshpy-parse","title":"niveshpy parse","text":"<p>Parse custom statements and documents.</p> <p>Parse financial documents using the specified parser and file.</p> <p>Required Args:</p> <ul> <li>parser_key (str): The parser to use. Example: 'cas'.</li> <li>file_path (str): Path to the file to parse.</li> </ul> <p>Usage:</p> <pre><code>niveshpy parse [options] &lt;parser&gt; &lt;file-path&gt;\n</code></pre> <p>Options:</p> <pre><code>  --no-input            Run without user input, using defaults or skipping\n                        prompts.\n  --password-file FILE  Path to a file containing the password for encrypted\n                        files.\n  -h, --help            Show this message and exit.\n</code></pre>"},{"location":"cli/parse/#parsers","title":"Parsers","text":"<p>NiveshPy comes bundled with a few useful parsers. However, you can use any custom parser with NiveshPy as well.</p>"},{"location":"cli/parse/#bundled-parsers","title":"Bundled Parsers","text":"Parser Name Description Command CAS Parser Parser for CAMS and Kfintech Consolidated Account Statements (CAS). <code>niveshpy parse cas ...</code>"},{"location":"cli/parse/#custom-parsers","title":"Custom Parsers","text":"<p>To learn how to create your own custom parser, check our guide</p>"},{"location":"cli/prices/","title":"Prices","text":""},{"location":"cli/prices/#niveshpy-prices","title":"niveshpy prices","text":"<p>Wrapper group for price-related commands.</p> <p>Usage:</p> <pre><code>niveshpy prices [options] &lt;command&gt;\n</code></pre> <p>Options:</p> <pre><code>  -h, --help  Show this message and exit.\n</code></pre> <p>Subcommands</p> <ul> <li>list: List latest price for all securities.</li> <li>sync: Sync prices from installed providers.</li> <li>update: Update price for a specific security.</li> </ul>"},{"location":"cli/prices/#niveshpy-prices-list","title":"niveshpy prices list","text":"<p>List latest price for all securities.</p> <p>By default, lists last available price for all securities in the portfolio.</p> <p>Optionally provide text  to filter securities by key or name. The  can also be used to provide specific dates for which prices are needed. <p>Run <code>niveshpy prices sync</code> to fetch latest prices from installed providers.</p> <p>See https://yashovardhan99.github.io/niveshpy/cli/prices for example usage.</p> <p>Usage:</p> <pre><code>niveshpy prices list [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of securities to list.  [default: 30]\n  --offset INTEGER     Number of securities to skip before starting to list.\n                       Use with --limit for pagination.  [default: 0]\n  --json\n  --csv\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/prices/#niveshpy-prices-sync","title":"niveshpy prices sync","text":"<p>Sync prices from installed providers.</p> <p>By default, syncs prices for all securities in the portfolio.</p> <p>Optionally provide text  to filter securities or specific dates to sync prices for. <p>See https://yashovardhan99.github.io/niveshpy/cli/prices for example usage.</p> <p>Usage:</p> <pre><code>niveshpy prices sync [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  --force              Force update even if prices are up-to-date.\n  --provider PROVIDER  Specify a particular price provider to use.\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/prices/#niveshpy-prices-update","title":"niveshpy prices update","text":"<p>Update price for a specific security.</p> <p>Requires the security , , and  as arguments. <p>See https://yashovardhan99.github.io/niveshpy/cli/prices for example usage and notes.</p> <p>Usage:</p> <pre><code>niveshpy prices update [options] [&lt;security_key&gt;] [&lt;date&gt;] [&lt;ohlc&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -h, --help  Show this message and exit.\n</code></pre>"},{"location":"cli/prices/#usage-notes-and-examples","title":"Usage notes and examples","text":""},{"location":"cli/prices/#list-prices","title":"List prices","text":"<p>Example</p> <pre><code>niveshpy prices list # (1)\nniveshpy prices list UTI DSP # (2)\nniveshpy prices list 'date:2023-01-01..2023-01-31' # (3)\nniveshpy prices list UTI 'date:2023-01-01' # (4)\n</code></pre> <ol> <li>Show the latest prices for all available securities</li> <li>Show the latest prices for all securities matching the regex \"UTI\" or \"DSP\"</li> <li>Show all prices from 2023-01-01 to 2023-01-31.</li> <li>Show price of all securities matching \"UTI\" for date 2023-01-01</li> </ol>"},{"location":"cli/prices/#update-prices","title":"Update prices","text":"<p>Note</p> <ol> <li>If 1 value is provided for <code>&lt;ohlc&gt;</code>, it is treated as the closing price. Other prices are set to the same value.</li> <li>If 2 values are provided, they are treated as opening and closing prices. High and Low are automatically set.</li> <li>If 4 values are provided, they are treated as opening, high, low, and closing prices respectively.</li> <li>Any other number of values will raise an error.</li> </ol> <p>Example</p> <pre><code>niveshpy prices update # (1)\nniveshpy prices update AAPL 2023-01-15 150.25 # (2)\n</code></pre> <ol> <li>Update prices interactively.</li> <li>Set closing price of security with key \"AAPL\" on 2023-01-15 to 150.25.</li> </ol>"},{"location":"cli/prices/#sync-prices","title":"Sync prices","text":"<p>Example</p> <pre><code>niveshpy prices sync # (1)\nniveshpy prices sync UTI DSP # (2)\nniveshpy prices sync 'date:2023-01' # (3)\nniveshpy prices sync 'UTI Nifty' 'date:2025' --force --provider amfi # (4)\n</code></pre> <ol> <li>Sync prices for all securities with default providers</li> <li>Sync prices for securites matching regex \"UTI\" and \"DSP\".</li> <li>Sync prices for all securities from 2023-01-01 to 2023-01-31.</li> <li>Sync prices for securities matching regex \"UTI Nifty\" from 2025-01-01 to 2025-12-31 using the provider \"amfi\". Due to <code>--force</code>, it will forcefully re-fetch all prices even if the prices were already available in the database.</li> </ol>"},{"location":"cli/prices/#price-providers","title":"Price Providers","text":"<p>NiveshPy comes bundled with a few useful providers. However, you can use your own custom provider as well.</p>"},{"location":"cli/prices/#bundled-providers","title":"Bundled Providers","text":"Provider Name Description Command AMFI Provide mutual fund prices from AMFI. <code>niveshpy prices sync --provider amfi</code>"},{"location":"cli/prices/#custom-providers","title":"Custom Providers","text":"<p>To learn how to create your own custom provider, check our guide</p>"},{"location":"cli/prices/#model-reference","title":"Model Reference","text":"<p>Price data models.</p>"},{"location":"cli/prices/#niveshpy.models.price.Price","title":"Price","text":"<p>               Bases: <code>PriceBase</code></p> <p>Database model for price data.</p> <p>Attributes:</p> Name Type Description <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>security</code> <code>Security</code> <p>Related security object.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the price data was created.</p>"},{"location":"cli/prices/#niveshpy.models.price.PriceBase","title":"PriceBase","text":"<p>               Bases: <code>SQLModel</code></p> <p>Base model for price data.</p> <p>Attributes:</p> Name Type Description <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data. Defaults to an empty dictionary.</p>"},{"location":"cli/prices/#niveshpy.models.price.PriceBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Ensure subclasses inherit schema extra metadata.</p> Source code in <code>niveshpy/models/price.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"Ensure subclasses inherit schema extra metadata.\"\"\"\n    return super().__init_subclass__(**kwargs)\n</code></pre>"},{"location":"cli/prices/#niveshpy.models.price.PriceCreate","title":"PriceCreate","text":"<p>               Bases: <code>PriceBase</code></p> <p>Model for creating price data.</p> <p>Attributes:</p> Name Type Description <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data. Defaults to an empty dictionary.</p>"},{"location":"cli/prices/#niveshpy.models.price.PriceDisplay","title":"PriceDisplay","text":"<p>               Bases: <code>PricePublic</code></p> <p>Model for displaying price data with related info.</p> <p>Attributes:</p> Name Type Description <code>security</code> <code>str</code> <p>Formatted security information.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the price data was created.</p>"},{"location":"cli/prices/#niveshpy.models.price.PriceDisplay.format_security","title":"format_security","text":"<pre><code>format_security(value: str | Security) -&gt; str\n</code></pre> <p>Format the security field for display.</p> Source code in <code>niveshpy/models/price.py</code> <pre><code>@field_validator(\"security\", mode=\"before\", json_schema_input_type=str | Security)\ndef format_security(cls, value: str | Security) -&gt; str:\n    \"\"\"Format the security field for display.\"\"\"\n    if isinstance(value, Security):\n        return f\"{value.name} ({value.key})\"\n    return value\n</code></pre>"},{"location":"cli/prices/#niveshpy.models.price.PricePublic","title":"PricePublic","text":"<p>               Bases: <code>PriceBase</code></p> <p>Public model for price data exposure.</p> <p>Attributes:</p> Name Type Description <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the price data was created.</p>"},{"location":"cli/prices/#niveshpy.models.price.PricePublicWithRelations","title":"PricePublicWithRelations","text":"<p>               Bases: <code>PricePublic</code></p> <p>Public model for price data with related security.</p> <p>Attributes:</p> Name Type Description <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>security</code> <code>Security</code> <p>Related security object.</p> <code>date</code> <code>date</code> <p>Date of the price data.</p> <code>open</code> <code>Decimal</code> <p>Opening price.</p> <code>high</code> <code>Decimal</code> <p>Highest price.</p> <code>low</code> <code>Decimal</code> <p>Lowest price.</p> <code>close</code> <code>Decimal</code> <p>Closing price.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the price data.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the price data was created.</p>"},{"location":"cli/queries/","title":"Queries","text":"<p>This is meant to document what kind of queries will be supported by the CLI and how it's parsing will work.</p> <p>default: <code>gold</code></p> <p>This should by-default match a security (with some exceptions based on the command being used).</p> <p>Spaces can be used to divide into multiple queries: <code>gold nifty</code> which would match any text containing either \"nifty\" OR \"gold\".</p> <p>If you have a space as part of your query, use quotes: <code>'ABC mutual fund'</code></p> <p>All text queries are case-insensitive and support regex, so you can do things like: <code>'^ABC Mutual Fund'</code> <code>'Gold ETF$'</code> <code>'uti (gold|nifty)'</code> </p> <p>If you want to search on specific fields, you can use the following prefixes:</p>"},{"location":"cli/queries/#acctaccount","title":"<code>acct:&lt;account&gt;</code>","text":"<p>Matches account name (or institution) containing the regex <code>&lt;account&gt;</code></p>"},{"location":"cli/queries/#amtamount","title":"<code>amt:&lt;amount&gt;</code>","text":"<p>Matches transaction amount.</p> <p>Amount expressions also support inequality comparisons and range expressions with the following syntax:</p> <ul> <li><code>amt:100</code> matches an amount of 100 exactly.</li> <li><code>amt:'&gt;200'</code> matches all amounts greater than 200.</li> <li><code>amt:'&gt;=200'</code> matches all amounts greater than or equal to 200.</li> <li><code>amt:'&lt;200'</code> matches all amounts less than 200.</li> <li><code>amt:'&lt;=200'</code> matches all amounts less than or equal to 200.</li> <li><code>amt:100..200</code> matches all amounts between 100 and 200 (both inclusive).</li> </ul> <p>Do note that amounts can be negative, so you might need to prefix it with a <code>-</code> sign to match sale transactions.</p>"},{"location":"cli/queries/#datedate","title":"<code>date:&lt;date&gt;</code>","text":"<p><code>date:&lt;date&gt;</code> will match either the full date or part of a date. This expects dates in the format <code>YYYY-MM-DD</code>. However, it can also be used with only a part of the format. For example:</p> <ul> <li><code>date:2025</code> matches all dates between <code>2025-01-01</code> and <code>2025-12-31</code></li> <li><code>date:2025-01</code> matches all dates in January 2025.</li> </ul> <p>A period can also be provided with the syntax <code>date:&lt;from&gt;..&lt;to&gt;</code>. Examples:</p> <ul> <li><code>date:2025-01-01..2025-01-15</code> matches all records from 1st January 2025 to 15th January 2025.</li> <li><code>date:2025..2025-02</code> matches all records from 1st January 2025 to 28th February 2025.</li> </ul> <p>It's important to note that partial date expressions can be used in both <code>date:&lt;date&gt;</code> and <code>date:&lt;from&gt;..&lt;to&gt;</code> expressions, but they can have different meanings in both cases. In the case of <code>&lt;from&gt;</code>, the date takes the starting of the partial date expression, while in the case of <code>&lt;to&gt;</code>, the date takes the end of that expression. Also note, that both <code>&lt;from&gt;</code> and <code>&lt;to&gt;</code> are optional field, in which case, they will match all records starting with <code>&lt;from&gt;</code> or ending at <code>&lt;to&gt;</code>. Some examples:</p> <ul> <li><code>date:2025..2026</code> matches all records from 2025-01-01 to 2026-12-31</li> <li><code>date:2025-04..2026-03</code> matches all records from 2025-04-01 to 2026-03-31.</li> <li><code>date:2025..2025</code> matches all records from 2025-01-01 to 2025-12-31, though you can just use <code>date:2025</code> to get the same result.</li> <li><code>date:2025..</code> matches all records starting 2025-01-01.</li> <li><code>date:..2025</code> matches all records ending 2025-12-31. Note the different parsing rules for <code>&lt;from&gt;</code> and <code>&lt;to&gt;</code> dates.</li> </ul> <p>Date cannot be used when querying <code>securities</code> or <code>accounts</code>.</p>"},{"location":"cli/queries/#descdescription","title":"<code>desc:&lt;description&gt;</code>","text":"<p>Searches the transaction description field.</p>"},{"location":"cli/queries/#secsecurity","title":"<code>sec:&lt;security&gt;</code>","text":"<p>Matches across any of the security fields (key, name, type or category) containing the regex <code>&lt;security&gt;</code>.</p>"},{"location":"cli/queries/#typetype","title":"<code>type:&lt;type&gt;</code>","text":"<p><code>type:</code> will match transaction type by default. (It will match security type when running the <code>securities</code> command).</p>"},{"location":"cli/queries/#secsecurity-or-security","title":"<code>sec:&lt;security&gt;</code> or <code>&lt;security&gt;</code>","text":"<p>Matches any security matching the regular expression <code>&lt;security&gt;</code>.</p>"},{"location":"cli/queries/#negative-queries","title":"Negative queries","text":"<p><code>not:query</code> can be used to negate a query. For example:</p> <ul> <li><code>not:etf</code> matches all transactions EXCEPT those where the security contains \"ETF\".</li> </ul>"},{"location":"cli/queries/#space","title":"Space","text":"<p>Space is used to separate individual expressions from each other. If your query has a space, use quotes to avoid separation.</p> <p>When multiple space separated queries are given, the following order of precedence applies:</p> <ul> <li>Any negative queries (combined with AND); AND</li> <li>An available date filter; AND</li> <li>Any amount filters; AND</li> <li>Any type expressions; AND</li> <li>Any of the description terms; AND</li> <li>Any of the account terms; AND</li> <li>Any of the security terms;</li> </ul> <p>Multiple expressions of the same type are combined with an OR. So, for example: <code>amt:&gt;=100</code> and <code>amt:&lt;=200</code> won't work as intended. Instead, consider using a range filter for such scenarios: <code>amt:100..200</code>.</p> <p>Expressions of different kinds are combined with an <code>AND</code>.</p>"},{"location":"cli/queries/#future-scope","title":"Future scope","text":"<ul> <li>Add support for boolean expressions such as <code>and</code> and <code>or</code>.</li> <li>Consider adding an AI query where users can just add a free text query and it will be parsed via an LLM?</li> </ul>"},{"location":"cli/securities/","title":"Securities","text":"<p>A security is an investment instrument that you have purchased or sold. This can be a mutual fund, a stock, an ETF or even physical commodities such as gold or silver.</p>"},{"location":"cli/securities/#niveshpy-securities","title":"niveshpy securities","text":"<p>Wrapper group for security-related commands.</p> <p>Usage:</p> <pre><code>niveshpy securities [options] &lt;command&gt;\n</code></pre> <p>Options:</p> <pre><code>  -h, --help  Show this message and exit.\n</code></pre> <p>Subcommands</p> <ul> <li>add: Add a new security.</li> <li>delete: Delete a security based on a query.</li> <li>list: List all securities.</li> </ul>"},{"location":"cli/securities/#niveshpy-securities-add","title":"niveshpy securities add","text":"<p>Add a new security.</p> <p>To create securities interactively, run the command with no arguments. To add a single security non-interactively, provide all arguments along with --no-input.</p> <p> is a unique identifier for the security, e.g., ticker symbol or ISIN. If another security with the same key exists, it will be updated. <p>category and type should be one of the enum values:</p> <ul> <li>Category: EQUITY, DEBT, COMMODITY, OTHER</li> <li>Type: STOCK, BOND, MUTUAL_FUND, ETF, OTHER</li> </ul> <p>Usage:</p> <pre><code>niveshpy securities add [options] [&lt;key&gt;] [&lt;name&gt;] [&lt;category&gt;] [&lt;type&gt;]\n</code></pre> <p>Options:</p> <pre><code>  --no-input  Run without user input, using defaults or skipping prompts.\n  -h, --help  Show this message and exit.\n</code></pre>"},{"location":"cli/securities/#niveshpy-securities-delete","title":"niveshpy securities delete","text":"<p>Delete a security based on a query.</p> <p>If no key is provided, you will be prompted to select from existing securities. The query will be used to search for securities by key or name. If multiple securities match the provided query, you will be prompted to select one.</p> <p>Associated transactions and holdings are not deleted but will no longer be visible in reports.</p> <p>When running in a non-interactive mode, --force must be provided to confirm deletion. Additionally, the  must match exactly one security key. <p>Usage:</p> <pre><code>niveshpy securities delete [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of limit to list.  [default: 100]\n  --no-input           Run without user input, using defaults or skipping\n                       prompts.\n  -f, --force          Force the operation without confirmation.\n  -n, --dry-run        Simulate the operation without making any changes.\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/securities/#niveshpy-securities-list","title":"niveshpy securities list","text":"<p>List all securities.</p> <p>Optionally provide a text QUERY to filter securities by key or name.</p> <p>Usage:</p> <pre><code>niveshpy securities list [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of securities to list.  [default: 30]\n  --offset INTEGER     Number of securities to skip before starting to list.\n                       Use with --limit for pagination.  [default: 0]\n  --json\n  --csv\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/securities/#model-reference","title":"Model Reference","text":"<p>Models for securities.</p>"},{"location":"cli/securities/#niveshpy.models.security.Security","title":"Security","text":"<p>               Bases: <code>SecurityBase</code></p> <p>Database model for securities.</p> <p>Attributes:</p> Name Type Description <code>key</code> <code>str</code> <p>Unique key identifying the security.</p> <code>name</code> <code>str</code> <p>Name of the security.</p> <code>type</code> <code>SecurityType</code> <p>Type of the security.</p> <code>category</code> <code>SecurityCategory</code> <p>Category of the security.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the security.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the security was created.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityBase","title":"SecurityBase","text":"<p>               Bases: <code>SQLModel</code></p> <p>Base model for securities.</p> <p>Attributes:</p> Name Type Description <code>key</code> <code>str</code> <p>Unique key identifying the security.</p> <code>name</code> <code>str</code> <p>Name of the security.</p> <code>type</code> <code>SecurityType</code> <p>Type of the security.</p> <code>category</code> <code>SecurityCategory</code> <p>Category of the security.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the security. Defaults to an empty dictionary.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Ensure subclasses inherit schema extra metadata.</p> Source code in <code>niveshpy/models/security.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"Ensure subclasses inherit schema extra metadata.\"\"\"\n    return super().__init_subclass__(**kwargs)\n</code></pre>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory","title":"SecurityCategory","text":"<p>               Bases: <code>StrEnum</code></p> <p>Enum for security categories.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory.COMMODITY","title":"COMMODITY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>COMMODITY = auto()\n</code></pre> <p>Security category representing commodities.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory.DEBT","title":"DEBT  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEBT = auto()\n</code></pre> <p>Security category representing debt.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory.EQUITY","title":"EQUITY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>EQUITY = auto()\n</code></pre> <p>Security category representing equity.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory.OTHER","title":"OTHER  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>OTHER = auto()\n</code></pre> <p>Security category representing other categories.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCategory.REAL_ESTATE","title":"REAL_ESTATE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>REAL_ESTATE = auto()\n</code></pre> <p>Security category representing real estate.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityCreate","title":"SecurityCreate","text":"<p>               Bases: <code>SecurityBase</code></p> <p>Model for creating a new security.</p> <p>Attributes:</p> Name Type Description <code>key</code> <code>str</code> <p>Unique key identifying the security.</p> <code>name</code> <code>str</code> <p>Name of the security.</p> <code>type</code> <code>SecurityType</code> <p>Type of the security.</p> <code>category</code> <code>SecurityCategory</code> <p>Category of the security.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the security. Defaults to an empty dictionary.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType","title":"SecurityType","text":"<p>               Bases: <code>StrEnum</code></p> <p>Enum for security types.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType.BOND","title":"BOND  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>BOND = auto()\n</code></pre> <p>Security type representing bonds.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType.ETF","title":"ETF  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ETF = auto()\n</code></pre> <p>Security type representing exchange-traded funds.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType.MUTUAL_FUND","title":"MUTUAL_FUND  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MUTUAL_FUND = auto()\n</code></pre> <p>Security type representing mutual funds.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType.OTHER","title":"OTHER  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>OTHER = auto()\n</code></pre> <p>Security type representing other types of securities.</p>"},{"location":"cli/securities/#niveshpy.models.security.SecurityType.STOCK","title":"STOCK  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STOCK = auto()\n</code></pre> <p>Security type representing stocks.</p>"},{"location":"cli/transactions/","title":"Transactions","text":""},{"location":"cli/transactions/#niveshpy-transactions","title":"niveshpy transactions","text":"<p>Wrapper group for transaction-related commands.</p> <p>Usage:</p> <pre><code>niveshpy transactions [options] &lt;command&gt;\n</code></pre> <p>Options:</p> <pre><code>  -h, --help  Show this message and exit.\n</code></pre> <p>Subcommands</p> <ul> <li>add: Create a new transaction.</li> <li>delete: Delete a transaction based on a query.</li> <li>list: List all transactions.</li> </ul>"},{"location":"cli/transactions/#niveshpy-transactions-add","title":"niveshpy transactions add","text":"<p>Create a new transaction.</p> <p>To create transactions interactively, run <code>niveshpy transactions add</code> without any arguments.</p> <p>To add a transaction non-interactively, provide all required arguments along with an optional --no-input flag.</p> <p>Arguments:     transaction_date : Date of the transaction in YYYY-MM-DD format.     transaction_type : Type of the transaction (either \"purchase\" or \"sale\").     description : Description of the transaction.     amount : Amount of money involved in the transaction.     units : Number of units involved in the transaction.     account_id : ID of the account associated with the transaction.     security_key : Key of the security involved in the transaction.</p> <p>Usage:</p> <pre><code>niveshpy transactions add [options] [&lt;transaction_date&gt;] [&lt;transaction_type&gt;]\n                          [&lt;description&gt;] [&lt;amount&gt;] [&lt;units&gt;] [&lt;account_id&gt;]\n                          [&lt;security_key&gt;]\n</code></pre> <p>Options:</p> <pre><code>  --no-input  Run without user input, using defaults or skipping prompts.\n  -h, --help  Show this message and exit.\n</code></pre>"},{"location":"cli/transactions/#niveshpy-transactions-delete","title":"niveshpy transactions delete","text":"<p>Delete a transaction based on a query.</p> <p>If no key is provided, you will be prompted to select from existing transactions. The query will be used to search for transactions by ID first. If no exact match is found, a text search will be performed based on various attributes. If multiple transactions match the provided query, you will be prompted to select one.</p> <p>Associated accounts and securities will not be deleted.</p> <p>When running in a non-interactive mode, --force must be provided to confirm deletion. Additionally, the  must match exactly one transaction ID. <p>Usage:</p> <pre><code>niveshpy transactions delete [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of limit to list.  [default: 100]\n  --no-input           Run without user input, using defaults or skipping\n                       prompts.\n  -f, --force          Force the operation without confirmation.\n  -n, --dry-run        Simulate the operation without making any changes.\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/transactions/#niveshpy-transactions-list","title":"niveshpy transactions list","text":"<p>List all transactions.</p> <p>Optionally provide a text QUERY to filter transactions by various attributes.</p> <p>View the documentation at https://yashovardhan99.github.io/niveshpy/cli/transactions/ for examples.</p> <p>Usage:</p> <pre><code>niveshpy transactions list [options] [&lt;queries&gt;]\n</code></pre> <p>Options:</p> <pre><code>  -l, --limit INTEGER  Maximum number of accounts to list.  [default: 30]\n  --offset INTEGER     Number of accounts to skip before starting to list. Use\n                       with --limit for pagination.  [default: 0]\n  --json\n  --csv\n  -h, --help           Show this message and exit.\n</code></pre>"},{"location":"cli/transactions/#usage-notes-and-examples","title":"Usage notes and examples","text":""},{"location":"cli/transactions/#list-transactions","title":"List transactions","text":"<p>Example</p> <pre><code>niveshpy transactions\nniveshpy transactions list gold # (1)\nniveshpy transactions list acct:Z123 # (2)\nniveshpy transactions list type:purchase # (3)\n</code></pre> <ol> <li>Filter by a security with 'gold' in its name or key.</li> <li>Filter by account 'Z123'.</li> <li>Filter by transaction type 'purchase'</li> </ol>"},{"location":"cli/transactions/#model-reference","title":"Model Reference","text":"<p>Models for financial transactions.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.Transaction","title":"Transaction","text":"<p>               Bases: <code>TransactionBase</code></p> <p>Database model for transactions.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int | None</code> <p>Primary key ID of the transaction. None if not yet stored in DB.</p> <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>security</code> <code>Security</code> <p>Related security object.</p> <code>account_id</code> <code>int</code> <p>Foreign key to the associated account.</p> <code>account</code> <code>Account</code> <p>Related account object.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the transaction was created.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionBase","title":"TransactionBase","text":"<p>               Bases: <code>SQLModel</code></p> <p>Base model for transactions.</p> <p>Attributes:</p> Name Type Description <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>account_id</code> <code>int</code> <p>Foreign key to the associated account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction. Defaults to an empty dictionary.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionBase.__init_subclass__","title":"__init_subclass__","text":"<pre><code>__init_subclass__(**kwargs)\n</code></pre> <p>Ensure subclasses are properly initialized.</p> Source code in <code>niveshpy/models/transaction.py</code> <pre><code>def __init_subclass__(cls, **kwargs):\n    \"\"\"Ensure subclasses are properly initialized.\"\"\"\n    return super().__init_subclass__(**kwargs)\n</code></pre>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionCreate","title":"TransactionCreate","text":"<p>               Bases: <code>TransactionBase</code></p> <p>Model for creating transactions.</p> <p>Attributes:</p> Name Type Description <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>account_id</code> <code>int</code> <p>Foreign key to the associated account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction. Defaults to an empty dictionary.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionDisplay","title":"TransactionDisplay","text":"<p>               Bases: <code>TransactionPublic</code></p> <p>Model for displaying transaction with related info.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>Primary key ID of the transaction.</p> <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security</code> <code>str</code> <p>Formatted security information.</p> <code>account</code> <code>str</code> <p>Formatted account information.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the transaction was created.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionDisplay.validate_account","title":"validate_account  <code>classmethod</code>","text":"<pre><code>validate_account(value: str | Account) -&gt; str\n</code></pre> <p>Validate and format the account field.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>str | Account</code> <p>The account value to format.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>Formatted account string.</p> Source code in <code>niveshpy/models/transaction.py</code> <pre><code>@field_validator(\"account\", mode=\"before\", json_schema_input_type=str | Account)\n@classmethod\ndef validate_account(cls, value: str | Account) -&gt; str:\n    \"\"\"Validate and format the account field.\n\n    Args:\n        value (str | Account): The account value to format.\n\n    Returns:\n        str: Formatted account string.\n    \"\"\"\n    if isinstance(value, Account):\n        return f\"{value.name} ({value.institution})\"\n    return value\n</code></pre>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionDisplay.validate_security","title":"validate_security  <code>classmethod</code>","text":"<pre><code>validate_security(value: str | Security) -&gt; str\n</code></pre> <p>Validate and format the security field.</p> <p>Parameters:</p> Name Type Description Default <code>value</code> <code>str | Security</code> <p>The security value to format.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>Formatted security string.</p> Source code in <code>niveshpy/models/transaction.py</code> <pre><code>@field_validator(\"security\", mode=\"before\", json_schema_input_type=str | Security)\n@classmethod\ndef validate_security(cls, value: str | Security) -&gt; str:\n    \"\"\"Validate and format the security field.\n\n    Args:\n        value (str | Security): The security value to format.\n\n    Returns:\n        str: Formatted security string.\n    \"\"\"\n    if isinstance(value, Security):\n        return f\"{value.name} ({value.key})\"\n    return value\n</code></pre>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionPublic","title":"TransactionPublic","text":"<p>               Bases: <code>TransactionBase</code></p> <p>Public model for transactions.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>Primary key ID of the transaction.</p> <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security_key</code> <code>str</code> <p>Foreign key to the associated security.</p> <code>account_id</code> <code>int</code> <p>Foreign key to the associated account.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the transaction was created.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionPublicWithRelations","title":"TransactionPublicWithRelations","text":"<p>               Bases: <code>TransactionPublic</code></p> <p>Public model for transactions with related account and security info.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>Primary key ID of the transaction.</p> <code>transaction_date</code> <code>date</code> <p>Date of the transaction.</p> <code>type</code> <code>TransactionType</code> <p>Type of the transaction.</p> <code>description</code> <code>str</code> <p>Description of the transaction.</p> <code>amount</code> <code>Decimal</code> <p>Amount involved in the transaction.</p> <code>units</code> <code>Decimal</code> <p>Number of units involved in the transaction.</p> <code>security</code> <code>Security</code> <p>Related security object.</p> <code>account</code> <code>Account</code> <p>Related account object.</p> <code>properties</code> <code>dict[str, Any]</code> <p>Additional properties of the transaction.</p> <code>created</code> <code>datetime</code> <p>Timestamp when the transaction was created.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionType","title":"TransactionType","text":"<p>               Bases: <code>StrEnum</code></p> <p>Enum for transaction types.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionType.PURCHASE","title":"PURCHASE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>PURCHASE = auto()\n</code></pre> <p>Transaction type representing purchases.</p> <p>This type indicates any amount spent on acquiring securities or assets. However, you may use it for other types of transactions as well.</p>"},{"location":"cli/transactions/#niveshpy.models.transaction.TransactionType.SALE","title":"SALE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SALE = auto()\n</code></pre> <p>Transaction type representing sales.</p> <p>This type indicates any amount received from selling securities or assets. However, you may use it for other types of transactions as well.</p>"}]}